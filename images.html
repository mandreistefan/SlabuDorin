<!DOCTYPE html>
<head>
  <title>Numesite</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="images.css">
  <link rel="stylesheet" href="navigation.css">
</head>

<html lang="ro">
	<body onload="load_images(0,8)">
		<div class="navigation">
			<div id="logo_container">
				<img id="jumbotron_logo" src="./_img/logo.png" alt="Produse_img">
				<div id="logo_text_container">
					<span id="logo_container_header">Dorin Slabu, P.F.A.</span><br>
					<span id="logo_container_span"><i class="fa fa-home"></i>Renovari interioare - exterioare</span>
					<hr style="margin:8px" id="mobile_hr">
					<li class="jumbotron_contact_list_element">
						<i class="fa fa-phone"></i> <span class="logo_container_span">Telefon: </span> <span style="font-weight:400">077773453</span>
					</li>
					<li class="jumbotron_contact_list_element">
						<i class="fa fa-whatsapp"></i> <span class="logo_container_span">WhatsApp: </span <span style="font-weight:400">077773453</span>
					</li>
					<li class="jumbotron_contact_list_element">
						<i class="fa fa-envelope-o"></i> <span class="logo_container_span">Email: </span><span style="font-weight:400">slabudorinpfa@gmail.com</span>
					</li>
				</div>
			</div>
			<div id="button_container">
				<a class="btn  btn_custom" href="./images.html" role="button"><i class="fa fa-phone"></i> Contact</a>
				<a class="btn  btn_custom" href="./home.html#strip" role="button"><i class="fa fa-user"></i> Despre mine</a>
				<a class="btn  btn_custom" href="./images.html" id="gallery_button" role="button"><i class="fa fa-file-image-o"></i> Galerie</a>
				<a class="btn  btn-lg btn_custom mobile_button" href="./home.html#content" role="button" id="see_more">Vezi mai multe<i class="fa fa-chevron-down"></i></a>
			</div>
		</div>
		<div id="container_custom">
			<div class="galerie" id="galerie">
			</div>
			<div id="button_container">
				<button type="button" id="load_more" class="btn btn-dark">Incarca mai multe</button>	
			</div>
		</div>
	</body>	
</html>

<script>
	function load_images(from,to){
		var xhttp = new XMLHttpRequest();
		xhttp.open("GET", "./_images/_registru.xml", true);
		xhttp.send();
		xhttp.onreadystatechange = function() {
			if (xhttp.readyState == 4 && xhttp.status == 200) {
				var xmlDoc = xhttp.responseXML;
				var images = xmlDoc.getElementsByTagName("imagine");
				var container=document.getElementById("galerie");
				var div, thumbnail, imagine, titlu, descriere;
				//var image_step=8;
					if(to>parseInt(images.length)){
						to=parseInt(images.length);
						$("#load_more").prop('disabled', true);
					}
					for(var i=from;i<to;i++){
						  div = document.createElement('div');
						  div.className="custom_image_container";

						  thumbnail=document.createElement('div');
						  thumbnail.className="custom-thumbnail";
						  div.appendChild(thumbnail);
						  
						  link=document.createElement('A');
						  link.setAttribute('href', "./_images/_"+i+".jpg");
						  link.setAttribute('target', "_blank");
						  link.className="image_link";
						  thumbnail.appendChild(link);
						  
						  imagine = document.createElement("IMG");
						  imagine.className="custom_image";
						  imagine.setAttribute("src", "./_images/_"+i+".jpg");
						  
						  link.appendChild(imagine);
					  
						  titlu = document.createElement("h4");
						  titlu.innerText = images[i].getElementsByTagName("titlu")[0].childNodes[0].nodeValue;
						  link.appendChild(titlu);
						  
						  descriere = document.createElement("p");
						  descriere.innerText = images[i].getElementsByTagName("descriere")[0].childNodes[0].nodeValue;
						  link.appendChild(descriere);
						  
						  document.getElementById("galerie").appendChild(div);
					}					
			}else if(xhttp.status == 404){
				div = document.createElement('div');
				div.innerHTML="Ceva nu e ok aici:(";
				document.getElementById('container_custom').appendChild(div);
			}
		};
	}
	
	$("#load_more").click(function(){
		var from=$('.custom_image_container').length;
		var to=from+8;
		load_images(from,to);
		}
	)
	
	
</script>

